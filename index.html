<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Only-NONE | Gate to the Underworld</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Supabase JS (The Database Connector) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        void: '#050505',
                        surface: '#121212',
                        bone: '#E5E5E5',
                        'bone-muted': '#A3A3A3',
                        blood: '#DC2626',
                        'deep-blood': '#7F1D1D',
                    },
                    fontFamily: {
                        gothic: ['"UnifrakturMaguntia"', 'cursive'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                        sans: ['ui-sans-serif', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                    animation: {
                        'glitch': 'glitch 1s linear infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'fog': 'fog 10s linear infinite alternate',
                    },
                    keyframes: {
                        glitch: {
                            '2%, 64%': { transform: 'translate(2px,0) skew(0deg)' },
                            '4%, 60%': { transform: 'translate(-2px,0) skew(0deg)' },
                            '62%': { transform: 'translate(0,0) skew(5deg)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        fog: {
                            '0%': { opacity: 0.3, transform: 'translateX(-10px)' },
                            '100%': { opacity: 0.6, transform: 'translateX(10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #050505; color: #E5E5E5; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #121212; }
        ::-webkit-scrollbar-thumb { background: #7F1D1D; }
        ::-webkit-scrollbar-thumb:hover { background: #DC2626; }
        .glitch-text { position: relative; }
        .glitch-text::before, .glitch-text::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; }
        .glitch-text::before { left: 2px; text-shadow: -1px 0 #DC2626; clip: rect(24px, 550px, 90px, 0); animation: glitch-anim-2 3s infinite linear alternate-reverse; }
        .glitch-text::after { left: -2px; text-shadow: -1px 0 #00ffff; clip: rect(85px, 550px, 140px, 0); animation: glitch-anim 2.5s infinite linear alternate-reverse; }
        @keyframes glitch-anim { 0% { clip: rect(13px, 9999px, 81px, 0); } 20% { clip: rect(98px, 9999px, 11px, 0); } 40% { clip: rect(2px, 9999px, 13px, 0); } 60% { clip: rect(44px, 9999px, 57px, 0); } 80% { clip: rect(89px, 9999px, 34px, 0); } 100% { clip: rect(21px, 9999px, 73px, 0); } }
        @keyframes glitch-anim-2 { 0% { clip: rect(65px, 9999px, 100px, 0); } 20% { clip: rect(12px, 9999px, 3px, 0); } 40% { clip: rect(87px, 9999px, 2px, 0); } 60% { clip: rect(5px, 9999px, 68px, 0); } 80% { clip: rect(22px, 9999px, 45px, 0); } 100% { clip: rect(92px, 9999px, 56px, 0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- React App Script -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { createClient } = window.supabase;

        // --- SUPABASE CONFIGURATION ---
        // 1. Go to Supabase Dashboard > Project Settings > API
        // 2. Paste your URL and ANON KEY here
        const SUPABASE_URL = "https://wzktbrakhdqmqvrgygtg.supabase.co"; 
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6a3RicmFraGRxbXF2cmd5Z3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQyMjY3MDIsImV4cCI6MjA3OTgwMjcwMn0.hesAyEwWrCYCcX-C9pNx_PBM2TayaQXi4G029QBEEI8";

        // Check if config is set, otherwise use Mock Mode
        const isMockMode = SUPABASE_URL === "https://wzktbrakhdqmqvrgygtg.supabase.co";
        let supabase = null;
        if (!isMockMode) {
            supabase = createClient(SUPABASE_URL, SUPABASE_KEY);
        }

        // --- MOCK DATA (Fallback if no DB connection) ---
        const mockClients = [
            { id: 1, name: "Meteor Client", author: "MeteorDev", version: "v0.5.3", type: "Utility", os: "Windows/Java", status: "Free", desc: "The standard for modern anarchy. Open source, massive module list.", features: ["AutoCrystal", "AnchorAura", "Trident+", "ElytraFly"], updated: "2 days ago", verified: true, configUrl: "#", downloadUrl: "#" },
            { id: 2, name: "Prax V4", author: "PraxTeam", version: "v4.1.0", type: "CPvP", os: "Android/iOS", status: "Paid", price: "$15.00", desc: "Dominate the crystal meta. Optimized for Bedrock touch controls.", features: ["Touch Crystal", "Hitbox Expand", "AutoTotem (Fast)", "Velocity"], updated: "1 week ago", verified: true, configUrl: "#", downloadUrl: "#" },
            { id: 3, name: "VoidWalker CN", author: "Shadow_882", version: "Build 882", type: "Anarchy", os: "Android", status: "Private", desc: "Private Chinese bypasses. Works on NetEase and 2b2tPE.", features: ["NetEase Bypass", "Flight (Packet)", "Phase", "Nuker"], updated: "Yesterday", verified: false, configUrl: null, downloadUrl: null },
            { id: 4, name: "Toolbox Patched", author: "MrArm", version: "vLegacy", type: "Utility", os: "Android", status: "Archive", desc: "The legendary toolkit. No longer maintained but good for history.", features: ["NBT Editor", "Enchanting", "X-Ray", "Teleport"], updated: "2 years ago", verified: true, deathNote: "Patched by Mojang (1.19)", deathDate: "Nov 2022", configUrl: "#", downloadUrl: "#" },
            { id: 5, name: "Horion", author: "Horion Team", version: "v1.2.0", type: "Utility", os: "Windows 10/11", status: "Free", desc: "Best free utility for Windows Bedrock edition.", features: ["InstaBreak", "AirJump", "NoFall", "Scaffold"], updated: "3 days ago", verified: true, configUrl: "#", downloadUrl: "#" },
            { id: 6, name: "Zephyr", author: "ZephyrDev", version: "v2.0", type: "CPvP", os: "Windows", status: "Free", desc: "Lightweight and deadly. Known for extreme reach in SPvP.", features: ["Reach", "Velocity", "Hitbox", "AimAssist"], updated: "1 day ago", verified: true, configUrl: null, downloadUrl: "#" },
            { id: 7, name: "Fade Client", author: "FadeTeam", version: "v0.9-beta", type: "Anarchy", os: "Android", status: "Archive", desc: "Was promising but dev quit after drama. Open source now.", features: ["Fly", "Killaura", "Speed"], updated: "1 year ago", verified: false, deathNote: "Dev Abandoned", deathDate: "Jan 2024", configUrl: null, downloadUrl: "#" },
            { id: 8, name: "Osiris", author: "OsirisCorp", version: "v1.0", type: "Utility", os: "iOS", status: "Archive", desc: "One of the few iOS injected clients. Stopped working after iOS 16.", features: ["Esp", "Tracers", "ChestStealer"], updated: "3 years ago", verified: true, deathNote: "iOS Security Update", deathDate: "Sept 2022", configUrl: null, downloadUrl: "#" }
        ];

        // --- ICONS ---
        const Skull = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><path d="M8 20v2h8v-2"/><path d="M12.5 17l.5-2 .5 2h2l.5-2 .5 2"/><path d="M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20"/></svg>);
        const CheckCircle = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>);
        const Lock = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>);
        const Zap = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>);
        const Download = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>);
        const X = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>);
        const ExternalLink = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>);
        const Discord = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 12h.01M15 12h.01M19.08 5.69C18.06 4.67 16.59 4 15 4c-2.13 0-4.08.82-5.49 2.15C8.08 4.82 6.13 4 4 4c-1.59 0-3.06.67-4.08 1.69C-1.2 7.02-.91 14.15 2.15 17.5 4.19 19.64 6.96 21 10 21c2.21 0 4.31-.72 6-1.93 1.69 1.21 3.79 1.93 6 1.93 3.04 0 5.81-1.36 7.85-3.5 3.06-3.35 3.35-10.48 2.23-11.81zM10 18c-2.43 0-4.55-1.12-6-2.92C5.45 13.28 7.57 12 10 12c2.43 0 4.55 1.28 6 3.08-1.45 1.8-3.57 2.92-6 2.92zm9-2.92C17.55 13.28 15.43 12 13 12c.54 0 1.05.08 1.54.21.36-.54.66-1.13.88-1.74A7.94 7.94 0 0 1 19 15.08z"/></svg>);
        const ArrowLeft = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>);
        const Send = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>);
        const TerminalIcon = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>);
        const Sword = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="14.5 17.5 3 6 3 3 6 3 17.5 14.5"/><line x1="13" y1="19" x2="19" y2="13"/><line x1="16" y1="16" x2="20" y2="20"/><line x1="19" y1="21" x2="21" y2="19"/></svg>);
        const Gem = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 3h12l4 6-10 13L2 9z"/></svg>);
        const Ghost = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M9 22v-2c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v2"/><path d="M12 2a5 5 0 0 0-5 5v11a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V7a5 5 0 0 0-5-5z"/><path d="M10 10h.01"/><path d="M14 10h.01"/></svg>);
        const Code = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>);
        const Keyboard = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="20" height="16" x="2" y="4" rx="2" ry="2"/><path d="M6 8h.001"/><path d="M10 8h.001"/><path d="M14 8h.001"/><path d="M18 8h.001"/><path d="M6 12h.001"/><path d="M10 12h.001"/><path d="M14 12h.001"/><path d="M18 12h.001"/><path d="M7 16h10"/></svg>);
        const FileCog = ({ size = 24, className = "" }) => (<svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><circle cx="12" cy="14" r="2"/><path d="M12 12v-1"/><path d="M12 17v-1"/><path d="M14 14h1"/><path d="M10 14h-1"/></svg>);
        const Star = ({ size = 24, className = "", fill = "none", onClick }) => (<svg onClick={onClick} xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill={fill} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>);

        // --- COMPONENTS ---

        const RatingSystem = ({ clientId }) => {
            const [rating, setRating] = useState(0);
            const [userRating, setUserRating] = useState(0);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                // Real DB Logic
                if (!isMockMode) {
                    // Supabase doesn't have real-time aggregate listeners easily without edge functions, 
                    // so we just fetch once on load for now.
                    const fetchRatings = async () => {
                        const { data, error } = await supabase.from('ratings').select('value').eq('client_id', clientId);
                        if (!error && data.length > 0) {
                            const sum = data.reduce((a, b) => a + b.value, 0);
                            setRating((sum / data.length).toFixed(1));
                        }
                        setLoading(false);
                    };
                    fetchRatings();
                } else {
                    // Mock Logic
                    setTimeout(() => {
                        setRating(4.5);
                        setLoading(false);
                    }, 500);
                }
            }, [clientId]);

            const handleRate = async (val) => {
                setUserRating(val);
                if (!isMockMode) {
                    // Insert into Supabase
                    const { error } = await supabase.from('ratings').insert({ client_id: clientId, value: val, user_id: 'anon_user' });
                    if (error) console.error("Rating failed", error);
                } else {
                    console.log(`Mock Rate: ${val} stars for client ${clientId}`);
                }
            };

            return (
                <div className="flex justify-between items-center bg-surface p-3 border border-surface mt-2">
                    <div className="flex flex-col">
                        <span className="text-bone-muted text-[10px] font-mono">COMMUNITY RATING</span>
                        <div className="flex items-center gap-2">
                            <span className="text-yellow-500 font-bold text-xl">{rating}</span>
                            <div className="flex">
                                {[1, 2, 3, 4, 5].map(star => (
                                    <Star 
                                        key={star} 
                                        size={14} 
                                        className={`cursor-pointer transition-colors ${star <= userRating ? 'text-yellow-500' : 'text-bone-muted/30'}`} 
                                        fill={star <= userRating ? "currentColor" : "none"}
                                        onClick={() => handleRate(star)}
                                    />
                                ))}
                            </div>
                        </div>
                    </div>
                    <div className="text-[10px] text-bone-muted text-right">
                        {loading ? "SYNCING..." : userRating > 0 ? "RATED" : "TAP TO RATE"}
                    </div>
                </div>
            );
        };

        const CommentSection = ({ clientId }) => {
            const [comments, setComments] = useState([]);
            const [input, setInput] = useState("");
            const [cooldown, setCooldown] = useState(0);

            useEffect(() => {
                if (!isMockMode) {
                    // Fetch existing
                    const fetchComments = async () => {
                        const { data } = await supabase.from('comments').select('*').eq('client_id', clientId).order('created_at', { ascending: false });
                        if(data) setComments(data);
                    };
                    fetchComments();

                    // Subscribe to new
                    const subscription = supabase
                        .channel('public:comments')
                        .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'comments', filter: `client_id=eq.${clientId}` }, payload => {
                            setComments(prev => [payload.new, ...prev]);
                        })
                        .subscribe();

                    return () => { supabase.removeChannel(subscription); }
                } else {
                    // Mock Data
                    setComments([
                        { id: 1, user_display: "AnarchyGod", content: "Is this safe for 2b2tPE?", created_at: new Date().toISOString() },
                        { id: 2, user_display: "NullPointer", content: "Vouch for this dev.", created_at: new Date().toISOString() }
                    ]);
                }
            }, [clientId]);

            useEffect(() => {
                let timer;
                if (cooldown > 0) timer = setInterval(() => setCooldown(c => c - 1), 1000);
                return () => clearInterval(timer);
            }, [cooldown]);

            const handlePost = async (e) => {
                e.preventDefault();
                if (cooldown > 0) return;
                if (input.length < 3) return;

                const newComment = {
                    client_id: clientId,
                    user_display: "Anon_" + Math.floor(Math.random() * 999),
                    content: input,
                    created_at: new Date().toISOString()
                };

                if (!isMockMode) {
                    const { error } = await supabase.from('comments').insert(newComment);
                    if (error) console.error("Post error", error);
                } else {
                    setComments([newComment, ...comments]);
                }
                
                setInput("");
                setCooldown(10);
            };

            return (
                <div className="mt-8 border-t border-surface pt-6">
                    <h3 className="font-gothic text-2xl mb-4 text-bone">THE WHISPERS {isMockMode && "(SIMULATED)"}</h3>
                    <form onSubmit={handlePost} className="mb-6 relative">
                        <div className="flex gap-2">
                            <input type="text" value={input} onChange={(e) => setInput(e.target.value)} placeholder="Whisper into the void..." className="w-full bg-void border border-surface p-3 font-mono text-sm text-bone focus:border-blood focus:outline-none placeholder-bone-muted/30"/>
                            <button type="submit" disabled={cooldown > 0} className={`px-4 border border-surface transition-all ${cooldown > 0 ? 'bg-surface text-bone-muted cursor-not-allowed' : 'bg-blood/10 text-blood hover:bg-blood hover:text-white'}`}>{cooldown > 0 ? cooldown : <Send size={18} />}</button>
                        </div>
                    </form>
                    <div className="space-y-3 max-h-64 overflow-y-auto pr-2 custom-scrollbar">
                        {comments.map((c, i) => (
                            <div key={i} className="bg-surface/50 p-3 border-l-2 border-surface hover:border-blood transition-colors">
                                <div className="flex justify-between items-baseline mb-1">
                                    <span className="font-mono text-xs font-bold text-bone-muted">{c.user_display}</span>
                                    <span className="font-mono text-[10px] text-bone-muted opacity-50">{new Date(c.created_at).toLocaleTimeString()}</span>
                                </div>
                                <p className="font-sans text-sm text-bone opacity-90">{c.content}</p>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const Graveyard = ({ onNavigate, clients }) => {
            const archivedClients = clients.filter(c => c.status === 'Archive');
            return (
                <div className="pt-24 pb-20 px-4 max-w-7xl mx-auto min-h-screen">
                    <div className="text-center mb-16 relative">
                        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[150px] opacity-[0.03] pointer-events-none font-gothic text-bone">RIP</div>
                        <Ghost size={64} className="mx-auto text-bone-muted mb-4 opacity-50 animate-fog" />
                        <h2 className="font-gothic text-5xl text-bone-muted mb-4 tracking-widest">THE GRAVEYARD</h2>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {archivedClients.map(client => (
                            <div key={client.id} onClick={() => onNavigate(client)} className="cursor-pointer group relative bg-surface/30 border border-surface grayscale hover:grayscale-0 transition-all duration-500 p-8 flex flex-col h-full hover:bg-surface/50 hover:border-bone-muted/30">
                                <div className="text-center mb-6 pt-4">
                                    <h3 className="font-gothic text-3xl text-bone-muted group-hover:text-bone transition-colors mb-1">{client.name}</h3>
                                    <p className="font-mono text-xs text-bone-muted/50">{client.author}</p>
                                </div>
                                <div className="border-t border-b border-surface py-4 my-2 space-y-2 font-mono text-xs text-bone-muted/70 text-center">
                                    <p>BORN: {client.version}</p>
                                    <p className="text-deep-blood group-hover:text-blood transition-colors">DIED: {client.deathDate}</p>
                                    <p>CAUSE: {client.deathNote}</p>
                                </div>
                                <div className="mt-auto flex justify-center">
                                    <button className="bg-transparent border border-bone-muted/30 text-bone-muted/50 hover:text-bone hover:border-bone px-6 py-2 text-xs font-mono flex items-center gap-2 transition-all"><Code size={14} /> [EXHUME ARCHIVE]</button>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const InjectorPage = () => {
             return (
                <div className="pt-24 pb-20 px-4 max-w-4xl mx-auto min-h-screen font-mono">
                    <div className="text-center mb-12">
                         <h2 className="font-gothic text-5xl text-blood mb-4 glitch-text" data-text="ACCESS THE MAINFRAME">ACCESS THE MAINFRAME</h2>
                         <div className="h-px w-24 bg-blood mx-auto mb-4"></div>
                         <p className="text-bone-muted text-sm">// TOOLS_REQUIRED: JIAYI_LAUNCHER.EXE <br/>// PROTOCOL: INJECTION & VERSION_OVERRIDE</p>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div className="bg-surface/80 border border-deep-blood/30 p-6 relative overflow-hidden group">
                             <div className="absolute -right-4 -top-4 opacity-10 group-hover:opacity-20 transition-opacity"><Zap size={120} /></div>
                             <h3 className="font-sans font-bold text-3xl text-bone mb-4 flex items-center gap-2"><TerminalIcon className="text-blood" /> JIAYI LAUNCHER</h3>
                             <p className="text-bone-muted text-sm mb-6 leading-relaxed">The ultimate multi-tool for Bedrock injection. Supports DLL injection, version switching (downgrade/upgrade), and multi-instance management.</p>
                             <button className="w-full bg-blood text-white py-3 font-bold hover:bg-red-700 transition-all shadow-[0_0_15px_rgba(220,38,38,0.4)] flex justify-center items-center gap-2"><Download size={18} /> DOWNLOAD JIAYI LAUNCHER</button>
                        </div>
                        <div className="bg-surface/80 border border-surface p-6 flex flex-col justify-center items-center text-center">
                            <h3 className="font-sans font-bold text-2xl text-bone-muted mb-6">OPERATIONAL CONTROLS</h3>
                            <div className="mb-6 relative">
                                <Keyboard size={80} className="text-bone-muted opacity-20" />
                                <div className="absolute inset-0 flex items-center justify-center"><span className="font-bold text-3xl text-blood bg-void px-2 border border-blood">INS</span></div>
                            </div>
                            <p className="text-bone text-lg font-bold mb-2">PRESS [INSERT] TO OPEN MENU</p>
                        </div>
                    </div>
                </div>
             );
        };

        const MetaLeaderboard = ({ clients }) => {
            // Simplified logic for brevity, ideally fetch from Supabase
            const getRank = (category) => {
                if (category === 'CPVP') return [{rank:1, clients:[clients[1], clients[2]]}]; 
                return [{rank:1, clients:[clients[5]]}];
            }
            const [category, setCategory] = useState('CPVP');
            const rankings = getRank(category);

            return (
                <div className="pt-24 pb-20 px-4 max-w-4xl mx-auto min-h-screen">
                    <div className="text-center mb-12">
                        <h2 className="font-gothic text-5xl text-blood mb-4 glitch-text" data-text="SEASON 6: THE VOID">SEASON 6: THE VOID</h2>
                    </div>
                    <div className="flex justify-center gap-4 mb-12">
                        <button onClick={() => setCategory('CPVP')} className={`flex items-center gap-2 px-8 py-3 border font-mono font-bold transition-all ${category === 'CPVP' ? 'bg-blood/20 border-blood text-blood' : 'bg-surface border-surface text-bone-muted'}`}><Gem size={18} /> CPVP</button>
                        <button onClick={() => setCategory('SPVP')} className={`flex items-center gap-2 px-8 py-3 border font-mono font-bold transition-all ${category === 'SPVP' ? 'bg-blood/20 border-blood text-blood' : 'bg-surface border-surface text-bone-muted'}`}><Sword size={18} /> SPVP</button>
                    </div>
                    {/* Placeholder for rankings UI to save space */}
                    <div className="text-center text-bone-muted font-mono text-sm"> // RANKINGS LOADING...</div>
                </div>
            );
        };

        const Modal = ({ isOpen, onClose, client }) => {
            if (!isOpen || !client) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4">
                    <div className="bg-surface border border-deep-blood/50 w-full max-w-md p-6 relative shadow-[0_0_30px_rgba(220,38,38,0.2)]">
                        <button onClick={onClose} className="absolute top-3 right-3 text-bone-muted hover:text-blood"><X size={24} /></button>
                        <div className="text-center mb-6"><Skull size={48} className="mx-auto text-blood mb-4" /><h3 className="font-gothic text-3xl text-bone mb-2">Shadow Protocol</h3></div>
                        <div className="text-center"><p className="mb-2 text-bone">Contact via Discord Ticket:</p><div className="bg-surface border border-bone-muted/20 p-3 text-blood font-bold">ticket_8823_voidwalker</div></div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('home');
            const [filter, setFilter] = useState('All');
            const [selectedClient, setSelectedClient] = useState(null);
            const [modalClient, setModalClient] = useState(null);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [data, setData] = useState(mockClients);

            useEffect(() => {
                if (!isMockMode) {
                    const fetchClients = async () => {
                        const { data: dbClients, error } = await supabase.from('clients').select('*');
                        if (dbClients) setData(dbClients);
                    };
                    fetchClients();
                }
            }, []);

            const openModal = (e, client) => { e.stopPropagation(); setModalClient(client); setIsModalOpen(true); };
            const goToDetail = (client) => { setSelectedClient(client); setView('detail'); window.scrollTo(0, 0); };
            const goHome = () => { setView('home'); setSelectedClient(null); };
            const goMeta = () => setView('meta');
            const goGraveyard = () => setView('graveyard');
            const goInjector = () => setView('injector');

            const filteredClients = filter === 'All' ? data : data.filter(c => c.type === filter || c.status === filter);

            return (
                <div className="min-h-screen font-sans selection:bg-blood selection:text-white relative overflow-hidden">
                    <div className="fixed inset-0 -z-10 pointer-events-none">
                         <div className="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-deep-blood/20 mix-blend-screen filter blur-[100px]"></div>
                    </div>

                    <nav className="fixed top-0 w-full z-40 bg-void/90 backdrop-blur-md border-b border-surface/50">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 group cursor-pointer" onClick={goHome}><Skull className="text-blood" /><span className="font-gothic text-2xl tracking-wider group-hover:text-blood">Only-NONE</span></div>
                            <div className="hidden md:flex gap-8 font-mono text-sm text-bone-muted">
                                <button onClick={goHome} className="hover:text-blood">ARMORY</button>
                                <button onClick={goMeta} className="hover:text-blood">THE META</button>
                                <button onClick={goGraveyard} className="hover:text-blood">GRAVEYARD</button>
                                <button onClick={goInjector} className="hover:text-blood">INJECTOR</button>
                            </div>
                            <button className="bg-[#5865F2]/10 border border-[#5865F2] px-4 py-1.5 text-xs font-mono text-[#5865F2] hover:bg-[#5865F2] hover:text-white flex items-center gap-2"><Discord size={16} /> [JOIN]</button>
                        </div>
                    </nav>

                    {view === 'home' && (
                        <section className="max-w-7xl mx-auto px-4 pt-32 pb-20">
                            <div className="text-center mb-12"><h1 className="font-gothic text-6xl glitch-text" data-text="GATE TO THE UNDERWORLD">GATE TO THE UNDERWORLD</h1></div>
                            <div className="flex flex-wrap gap-4 justify-center mb-12">
                                {['All', 'Utility', 'CPvP', 'Anarchy'].map(cat => <button key={cat} onClick={() => setFilter(cat)} className={`px-6 py-2 font-mono text-sm border transition-all ${filter === cat ? 'border-blood text-blood' : 'border-surface text-bone-muted'}`}>{cat.toUpperCase()}</button>)}
                            </div>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {filteredClients.map(client => (
                                    <div key={client.id} onClick={() => goToDetail(client)} className="group relative bg-surface/80 border border-surface hover:border-blood transition-all p-6 cursor-pointer">
                                        <div className="flex justify-between items-start mb-4">
                                            <div><h3 className="font-sans font-bold text-2xl text-bone group-hover:text-white">{client.name}</h3><p className="font-mono text-xs text-bone-muted">{client.version}</p></div>
                                            <div className="px-2 py-1 text-xs font-mono border border-green-800 text-green-500">{client.status.toUpperCase()}</div>
                                        </div>
                                        <p className="text-bone-muted text-sm">{client.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </section>
                    )}

                    {view === 'detail' && selectedClient && (
                        <section className="pt-24 pb-20 px-4 max-w-5xl mx-auto">
                            <button onClick={goHome} className="mb-6 flex items-center gap-2 text-bone-muted hover:text-blood font-mono text-sm"><ArrowLeft size={16} /> RETURN</button>
                            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                <div className="lg:col-span-2 space-y-6">
                                    <div className="bg-surface/80 border border-deep-blood/30 p-8">
                                        <h1 className="font-gothic text-5xl text-white mb-2">{selectedClient.name}</h1>
                                        <p className="font-mono text-blood mb-6">{selectedClient.author} // {selectedClient.version}</p>
                                        <p className="text-bone-muted leading-relaxed mb-6">{selectedClient.desc}</p>
                                        <div className="flex gap-4 border-t border-surface pt-6">
                                            {selectedClient.status === 'Private' ? 
                                                <button onClick={(e) => openModal(e, selectedClient)} className="flex-1 bg-purple-900/20 text-purple-400 border border-purple-900 py-3 font-bold font-mono"><Lock size={18} /> REQUEST</button> : 
                                                <button onClick={() => window.open(selectedClient.downloadUrl || '#', '_blank')} className="flex-1 bg-blood text-white py-3 font-bold font-mono hover:bg-red-700 shadow-[0_0_15px_rgba(220,38,38,0.4)] flex justify-center gap-2"><Download size={18} /> DOWNLOAD</button>
                                            }
                                            {selectedClient.configUrl && <button onClick={() => window.open(selectedClient.configUrl, '_blank')} className="flex-none bg-surface border border-bone-muted text-bone-muted hover:border-white hover:text-white px-4 flex items-center gap-2"><FileCog size={18} /> CONFIG</button>}
                                        </div>
                                    </div>
                                    <CommentSection clientId={selectedClient.id} />
                                </div>
                                <div className="space-y-6">
                                    <div className="bg-surface border border-surface p-6">
                                        <h3 className="font-mono text-bone-muted text-xs mb-4 uppercase tracking-widest">TECHNICAL_DATA</h3>
                                        <RatingSystem clientId={selectedClient.id} />
                                    </div>
                                </div>
                            </div>
                        </section>
                    )}

                    {view === 'meta' && <MetaLeaderboard clients={data} />}
                    {view === 'graveyard' && <Graveyard onNavigate={goToDetail} clients={data} />}
                    {view === 'injector' && <InjectorPage />}

                    <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} client={modalClient} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>